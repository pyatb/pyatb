# Brief introduction of the input files

## Input 

The `Input` file describes the basic information about the system and the parameters required to calculate the function. For a complete list of the input parameters, please consult this [input list](./input/input_keywords.md).

The following is an example of a `Input` file:

```
INPUT_PARAMETERS
{
    nspin                          4
    package                        ABACUS
    fermi_energy                   9.481194886038594
    fermi_energy_unit              eV
    HR_route                       data-HR-sparse_SPIN0.csr
    SR_route                       data-SR-sparse_SPIN0.csr
    rR_route                       new-data-rR-tr_SPIN4
    HR_unit                        Ry
    rR_unit                        Bohr
    max_kpoint_num                 8000
}

LATTICE
{
    lattice_constant               1.8897162
    lattice_constant_unit          Bohr
    lattice_vector
    -2.069  -3.583614  0.000000
     2.069  -3.583614  0.000000
     0.000   2.389075  9.546667
}

BAND_STRUCTURE
{
    wf_collect                     0
    kpoint_mode                    line
    kpoint_num                     5
    high_symmetry_kpoint
    0.00000 0.00000 0.0000 100  # G
    0.00000 0.00000 0.5000 100  # Z
    0.50000 0.50000 0.0000 100  # F
    0.00000 0.00000 0.0000 100  # G
    0.50000 0.00000 0.0000 1    # L
}
```

The `Input` file consists of three main sections (**INPUT_PARAMETERS**, **LATTICE**, **FUNCTION**), each of which is represented by the `keyword + {}`, namely:

```
KEYWORD
{
    parameter  xx
}
```

The **INPUT_PARAMETERS** section is utilized to specify public parameters and indicate the HR, SR, and rR files required for the calculation.

The **LATTICE** section outlines lattice information and includes three parameters: lattice_constant, lattice_constant_unit, and lattice_vector.

The **FUNCTION** section lists the parameters necessary for each calculation function. These parameters differ depending on the specific function being used.

**NOTE**:
- The keyword of the section must be capitalized, and the parameters in the section must be lowercase.

- Each parameter value is provided by specifying the name of the input variable and then putting the value after the name, separated by one or more blank characters(space or tab).

- Any line starting with `#` or `//` will be ignored. To ignore a function section, add `#` in front of the section name. This will cause all parameters within that function section to be ignored.

- Proper case is required to avoid reading errors. For example, `eV` must not be written as `ev`, and `Bohr` must not be written as `bohr`.

## HR, SR, rR

HR, SR, and rR are important input files for PYATB and contain information about the tight binding model, which can be generated by ABACUS.

In the PYATB program, if only the *Bands module* is used, it is enough to provide HR and SR, and specifying rR is not required. However, when the functions of the calculations are related to the *Geometric module* or *Optical module*, the rR file must be specified.

### How to generate HR, SR, rR files using ABACUS

Run the **scf** calculation of ABACUS normally, specifies the parameters `out_mat_hs2` and `out_mat_r` in the `INPUT` file, and three files of sparse format `data-HR-sparse_SPIN0.csr`, `data-SR-sparse_ SPIN0.csr`, `data-rR-sparse.csr` (and `data-HR-sparse_SPIN1.csr` when `nspin` is 2), will be generated in OUT* folder.

**NOTE**:
- nspin=4 and nspin=1, nspin=2 output different files. nspin=4 files contain imaginary numbers, so the correct nspin parameter needs to be strictly specified when executing pyatb programs.

## Other file

For the calculation of some functions, structure files and NAOs (numerical atomic orbital bases) files are also required.

- The structure file

    This file describes the structural information about the system, e.g., lattice constant, lattice vectors, and positions of the atoms within a unit cell. The structure file format of ABACUS is currently used.

- The NAOs files

    This file describes the numerical atomic orbitals used to expand the Hamiltonian. The NAOs file format of ABACUS is currently used.
